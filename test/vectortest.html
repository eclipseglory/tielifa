<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="test.js"></script>
</head>
<body>

</body>

<script type="module">
    // Draw shapes
    import CanvasRenderingContextWebgl2D from "../src/webgl/CanvasRenderingContextWebgl2D.js";
    import GeometryTools from "../src/geometry/GeometryTools.js";
    import Vector2 from "../src/math/Vector2.js";
    import Tools from "../src/utils/Tools.js";
    import Mat4 from "../src/math/Mat4.js";
    import Vector3 from "../src/math/Vector3.js";
    import mytest from "./mytest.js";

    createCompareCanvas();

    let test12 = new mytest(webgl);
    let gl = new CanvasRenderingContextWebgl2D(webgl, {projectionType: 1});
    let ctx1 = canvas.getContext('2d');

    let radius = 0;

    function draw(ctx) {
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
        ctx.strokeStyle = 'white';
        // Tangential lines
        ctx.beginPath();
        ctx.strokeStyle = 'gray';
        ctx.moveTo(200, 20);
        ctx.lineTo(200, 130);
        ctx.lineTo(50, 20);
        ctx.stroke();

// Arc
        ctx.beginPath();
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 2;
        ctx.moveTo(200, 20);
        ctx.arcTo(200, 130, 50, 20, radius);
        ctx.stroke();

// Start point
        ctx.beginPath();
        ctx.fillStyle = 'blue';
        ctx.arc(200, 20, 5, 0, 2 * Math.PI);
        ctx.fill();

// Control points
        ctx.beginPath();
        ctx.fillStyle = 'red';
        ctx.arc(200, 130, 5, 0, 2 * Math.PI); // Control point one
        ctx.arc(50, 20, 5, 0, 2 * Math.PI);   // Control point two
        ctx.fill();

        if (ctx.draw) {
            ctx.draw();
        }
    }

    function test() {
        draw(gl);
        draw(ctx1);
        radius += 0.1;
        requestAnimationFrame(test);
    }

    test();

</script>
</html>